<%= render 'site/navbar-all' %>
<!-- Page Content -->
    <div class="container">

      <div class="row m-t-70 m-b-70">

        <div class="col-lg-3 catprod">

          <h3 class="my-4"><%= @category_product.name %></h3>
          <div class="list-group">
            <% if @category_product.id == 1 %>
                <% TypeCamera.all.each do |type_camera| %>
                    <%= link_to type_camera.name, category_product_path(:type_camera_id => type_camera.id), class: 'list-group-item', method: :get %>
                <% end %>
            <% elsif @category_product.id == 2 %>
                <% MerkLensa.all.each do |merk_lensa| %>
                    <%= link_to merk_lensa.name, category_product_path(:merk_lensa_id => merk_lensa.id), class: 'list-group-item', method: :get %>
                <% end %>
            <% else %>
                <% Aksesori.all.each do |aksesori| %>
                    <%= link_to aksesori.name, category_product_path(:aksesori_id => aksesori.id), class: 'list-group-item', method: :get %>
                <% end %>
            <% end %>
          </div>

        </div>
        <!-- /.col-lg-3 -->

        <div class="col-lg-9">

          <div id="carouselExampleIndicators" class="carousel slide my-4" data-ride="carousel">
            <ol class="carousel-indicators">
              <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner" role="listbox">
                <% if @category_product.id == 1 %>
                    <div class="carousel-item active">
                        <%= image_tag "camera3", alt: 'Camera 3', class: 'd-block img-fluid img-responsive', style: 'width:900px; height:350px;' %>
                        <div class="top-right">Photo by <strong>Paul Gaudriault</strong> on Unsplash</div>
                    </div>
                    <div class="carousel-item">
                        <%= image_tag "camera2", alt: 'Camera 2', class: 'd-block img-fluid img-responsive', style: 'width:900px; height:350px;' %>
                        <div class="top-right">Photo by <strong>ShareGrid</strong> from Unsplash</div>
                    </div>
                    <div class="carousel-item">
                        <%= image_tag "camera4", alt: 'Camera 4', class: 'd-block img-fluid img-responsive', style: 'width:900px; height:350px;' %>
                        <div class="top-right">Photo by <strong>Hanson Lu</strong> on Unsplash</div>
                    </div>
                <% elsif @category_product.id == 2 %>
                    <div class="carousel-item active">
                        <%= image_tag "lensa1", alt: 'lensa1', class: 'd-block img-fluid img-responsive', style: 'width:900px; height:350px;' %>
                        <div class="top-right">Photo by <strong>Simon Rae</strong> on Unsplash</div>
                    </div>
                    <div class="carousel-item">
                        <%= image_tag "lensa2", alt: 'Lensa 2', class: 'd-block img-fluid img-responsive', style: 'width:900px; height:350px;' %>
                        <div class="top-right">Photo by <strong>Lucas Favre</strong> from Unsplash</div>
                    </div>
                    <div class="carousel-item">
                        <%= image_tag "lensa3", alt: 'Lensa 4', class: 'd-block img-fluid img-responsive', style: 'width:900px; height:350px;' %>
                        <div class="top-right">Photo by <strong>Alasdair Elmes</strong> on Unsplash</div>
                    </div>
                <% else %>
                    <div class="carousel-item active">
                        <%= image_tag "aksesori1", alt: 'Aksesoris 1', class: 'd-block img-fluid img-responsive', style: 'width:900px; height:350px;' %>
                        <div class="top-right">Photo by <strong>Jakob Owens</strong> on Unsplash</div>
                    </div>
                    <div class="carousel-item">
                        <%= image_tag "aksesori2", alt: 'Aksesoris 2', class: 'd-block img-fluid img-responsive', style: 'width:900px; height:350px;' %>
                        <div class="top-right">Photo by <strong>César Abner Martínez Aguilar</strong> from Unsplash</div>
                    </div>
                    <div class="carousel-item">
                        <%= image_tag "aksesori3", alt: 'Aksesoris 3', class: 'd-block img-fluid img-responsive', style: 'width:900px; height:350px;' %>
                        <div class="top-right">Photo by <strong>Ian Dooley</strong> on Unsplash</div>
                    </div>
            <% end %>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>

          <div class="row">
            <% @products.each do |product| %>
              <div class="col-lg-4 col-md-6 mb-4 hvr-grow card-product">
                <div class="card h-100">
                  <%= link_to image_tag(product.image1, alt: product.name, class: 'card-img-top'), product_path(product) %>
                  <div class="card-body">
                    <h5 class="card-title">
                      <%= link_to product.name, product_path(product) %>
                    </h5>
                    <h6><%= product.price %></h6>
                  </div>
                  <div class="card-footer">
                    <small class="text-muted"><%= product.availability_product.name %></small>
                  </div>
                </div>
              </div>
            <% end %>
          </div>
          <!-- /.row -->
            <%= will_paginate @products, list_classes: %w(pagination justify-content-center), renderer: WillPaginate::ActionView::BootstrapLinkRenderer %>
        </div>
        <!-- /.col-lg-9 -->

      </div>
      <!-- /.row -->

    </div>
    <!-- /.container -->
<%= render 'site/contact'%>

<script>
(function ($) {
    "use strict"; // Start of use strict

    // Smooth scrolling using jQuery easing
    $('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function () {
        if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
            var target = $(this.hash);
            target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
            if (target.length) {
                $('html, body').animate({
                    scrollTop: (target.offset().top - 56)
                }, 1000, "easeInOutExpo");
                return false;
            }
        }
    });

    // Closes responsive menu when a scroll trigger link is clicked
    $('.js-scroll-trigger').click(function () {
        $('.navbar-collapse').collapse('hide');
    });

    // Activate scrollspy to add active class to navbar items on scroll
    $('body').scrollspy({
        target: '#mainNavall',
        offset: 57
    });

    // Collapse Navbar
    var navbarCollapse = function () {
        var mainNavall = $('#mainNavall');
        if (mainNavall.length) {
            if ($("#mainNavall").offset().top > 100) {
                $("#mainNavall").addClass("navbar-shrink");
            } else {
                $("#mainNavall").removeClass("navbar-shrink");
            }
        }
    };
    // Collapse now if page is not at top
    navbarCollapse();
    // Collapse the navbar when page is scrolled
    $(window).scroll(navbarCollapse);

    // Scroll reveal calls
    window.sr = ScrollReveal();

    sr.reveal('.sr-icon-1', {
        delay: 200,
        scale: 0
    });
    sr.reveal('.sr-icon-2', {
        delay: 400,
        scale: 0
    });
    sr.reveal('.sr-icon-3', {
        delay: 600,
        scale: 0
    });
    sr.reveal('.sr-icon-4', {
        delay: 800,
        scale: 0
    });
    sr.reveal('.sr-button', {
        delay: 200,
        distance: '15px',
        origin: 'bottom',
        scale: 0.8
    });
    sr.reveal('.sr-contact-1', {
        delay: 200,
        scale: 0
    });
    sr.reveal('.sr-contact-2', {
        delay: 400,
        scale: 0
    });

    // Magnific popup calls
    $('.popup-gallery').magnificPopup({
        delegate: 'a',
        type: 'image',
        tLoading: 'Loading image #%curr%...',
        mainClass: 'mfp-img-mobile',
        gallery: {
            enabled: true,
            navigateByImgClick: true,
            preload: [0, 1]
        },
        image: {
            tError: '<a href="%url%">The image #%curr%</a> could not be loaded.'
        }
    });

})(jQuery); // End of use strict

</script>

<script>
$(document).ready(function(){
  $('.owl-carousel').owlCarousel({
    loop:true,
    margin:10,
    autoplay:true,
    items: 2,
    nav: true,
    autoplayTimeout:3000,
    autoplayHoverPause:true,
    responsiveClass:true,
    responsive:{
        0:{
            items:1,
            nav:true
        },
        600:{
            items:2,
            nav:false
        },
        1000:{
            items:3,
            nav:true
        }
    }
})
});
</script>


<!-- <p id="notice"><%= notice %></p>

<p>
  <strong>Name:</strong>
  <%= @category_product.name %>
</p>

<%= link_to 'Edit', edit_category_product_path(@category_product) %> |
<%= link_to 'Back', category_products_path %> -->
